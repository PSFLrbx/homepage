<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PSFL Rulebook</title>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet">
  <style>
    html {
      scroll-behavior: smooth;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'IBM Plex Sans', sans-serif;
      background-color: #111;
      color: white;
      line-height: 1.6em;
    }
    header {
      padding: 20px;
      background-color: #222;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .branding {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .logo img {
      width: 60px;
    }
    header h1 {
      font-size: 2.5em;
      margin: 0;
    }
    nav ul {
      list-style: none;
      display: flex;
      gap: 15px;
    }
    nav ul li a {
      display: inline-block;
      text-decoration: none;
      color: white;
      padding: 10px 15px;
      background: #444;
      border-radius: 5px;
      transform: translateY(0);
      transition: transform 0.7s ease-out;
    }
    nav ul li a:hover {
      animation: oscillate 6s infinite ease-in-out;
      box-shadow: 0 0 15px 5px orange;
    }
    @keyframes oscillate {
      0% { transform: translateY(-3px); }
      50% { transform: translateY(3px); }
      100% { transform: translateY(-3px); }
    }
    .background {
      position: relative;
      min-height: 150vh;
      background-color: black;
      display: flex;
      justify-content: center;
      align-items: center;
      padding-top: 100px;
    }
    .background::after {
      content: "";
      position: absolute;
      top: 0; 
      left: 0;
      width: 100%; 
      height: 100%;
      background-color: rgba(0, 0, 0, 0.3);
      z-index: 0;
    }
    .content {
      position: relative;
      z-index: 1;
      width: 80%;
      max-width: 900px;
      margin: 0 auto;
      padding: 30px;
      text-align: left;
      transform: translateX(0);
      animation: slideIn 0.5s forwards;
    }
    @keyframes slideIn {
      from { transform: translateX(-200%); opacity: 0; }
      to   { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to   { transform: translateX(-200%); opacity: 0; }
    }
    .page-enter { animation: slideIn 0.5s forwards; }
    .page-exit { animation: slideOut 0.8s forwards; }
    
    /* Glossary Sidebar */
    .glossary {
      position: fixed;
      top: 150px;
      left: 0;
      background: rgba(34, 34, 34, 0.8);
      padding: 10px 15px;
      border-top-right-radius: 8px;
      border-bottom-right-radius: 8px;
      z-index: 2;
    }
    .glossary ul { list-style: none; }
    .glossary ul li { margin-bottom: 10px; }
    .glossary ul li a {
      text-decoration: none;
      color: #ccc;
      font-size: 0.9em;
      transition: color 0.3s ease;
    }
    .glossary ul li a:hover { color: orange; }
    h3[id] { margin-top: 40px; }
    
    /* Message Header */
    .message-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }
    .profile-pic {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
      object-fit: cover;
    }
    .message-info {
      display: flex;
      flex-direction: column;
      text-align: left;
    }
    .message-info .name { font-weight: bold; color: #fff; }
    .message-info .date { font-size: 0.9em; color: #aaa; }
    
    /* Rulebook Content Styling */
    .rule-list, .command-list {
      list-style: disc;
      margin-left: 20px;
      margin-bottom: 20px;
    }
    .penalty-box {
      background: #222;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
      border: 1px solid #444;
    }
    .penalty-box h4 {
      margin-bottom: 10px;
      color: orange;
    }
    
    /* Footer */
    .footer {
      background-color: #222;
      padding: 50px 0;
    }
    .footer-container {
      width: 90%;
      max-width: 1000px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: space-between;
    }
    .footer-col h4 {
      margin-bottom: 15px;
      font-size: 1.2em;
      color: #fff;
    }
    .footer-col ul { list-style: none; }
    .footer-col ul li { margin-bottom: 8px; }
    .footer-col ul li a {
      color: #ccc;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    .footer-col ul li a:hover { color: orange; }
    .social-icons {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .icon {
      position: relative;
      width: 40px;
      height: 40px;
      background: #444;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      color: #fff;
      font-size: 1.2em;
      transition: background 0.3s ease;
      overflow: hidden;
    }
    .icon:hover { background: #666; }
    .icon .tooltip {
      position: absolute;
      bottom: -30px;
      background: #222;
      color: #fff;
      font-size: 0.75em;
      padding: 5px 8px;
      border-radius: 4px;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s ease;
    }
    .icon:hover .tooltip {
      opacity: 1;
      bottom: -40px;
    }
    .icon-discord {
      background: url('discord.png') no-repeat center;
      background-size: cover;
      transition: transform 0.3s ease;
    }
    .icon-discord:hover {
      transform: rotate(360deg);
    }
    
    @media (max-width: 600px) {
      .footer-container { flex-direction: column; text-align: center; }
      .glossary { display: none; }
    }
  </style>
</head>
<body>
  <header>
    <div class="branding">
      <div class="logo">
        <img src="logo.png" alt="Logo" />
      </div>
      <h1>PSFL</h1>
    </div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="stats.html">Stats</a></li>
        <li><a href="standings.html">Standings</a></li>
        <li><a href="rulebook.html">Rulebook</a></li>
        <li><a href="credits.html">Credits</a></li>
      </ul>
    </nav>
  </header>

  <!-- Glossary Sidebar -->
  <div class="glossary">
    <ul>
      <li><a href="#game-settings">Game Settings</a></li>
      <li><a href="#challenges">Challenges</a></li>
      <li><a href="#penalty-guide">Penalty Guide</a></li>
      <li><a href="#penalties">Penalties</a></li>
      <li><a href="#commands">Commands</a></li>
    </ul>
  </div>

  <section class="background">
    <div class="content page-enter">
      <div class="message-header">
        <img class="profile-pic" src="ps9lu.png" alt="Profile Picture">
        <div class="message-info">
          <span class="name">ps9lu</span>
          <span class="date">March 17, 2025</span>
        </div>
      </div>
      
      <!-- Updated Rulebook Content -->
      <h2>PSFL Games Rulebook</h2>
      
      <h3 id="game-settings">Server Settings</h3>
      <ul class="rule-list">
        <li>Public Listing: OFF</li>
        <li>Fumble Chances: 1</li>
        <li>Mercy Rule: 40 pts</li>
        <li>Play Clock: 25 seconds</li>
        <li>Quarter Length: 4 minutes</li>
        <li>Replays: ON</li>
        <li>Time of Day — decided on the schedule</li>
        <li>Weather — decided on the schedule</li>
      </ul>
      
      <h3>Game Mechanics</h3>
      <ul class="rule-list">
        <li>Diving: ON</li>
        <li>Hitstick: ON</li>
        <li>Sprinting: ON</li>
        <li>Truck: OFF</li>
        <li>Pass Break Up: OFF</li>
        <li>Mercy Rule: OFF</li>
      </ul>
      
      <h3>Players &amp; Game Rules</h3>
      <ul class="rule-list">
        <li>Anyone can fumble.</li>
        <li>There must only be one Center/OL during a play.</li>
        <li>Players cannot play regular season games while unsigned unless given permission to play by @lu or @pka.</li>
        <li>Players must not use any form of exploit that will enhance gameplay to the point of gaining an unfair advantage against others.</li>
        <li>Players cannot play regular season games while suspended. There are no exceptions to this rule.</li>
        <li>The use of macros is allowed.</li>
        <li>Players cannot play on an alt account unless given permission by an (+)Executive (who is not on the player’s team).</li>
        <li>Play clock must be set to :pclock 50 once kickoff has concluded and the drive after that so players can set up their positions and be ready. This applies to halftime and overtime kickoff as well.</li>
        <li>There can only be 1 fake per half.</li>
        <li>Webhook must be added in; otherwise the game will not count. There are a few exceptions to this rule.</li>
        <li>If a team owner/coach is hosting the server and they do not have the webhook set up, their team will result in an FFL (only if no eligible referees are assigned).</li>
        <li>If the webhook is not the one associated with PSFL’s official webhook, the game will require a redo. (Team owner/coach servers result in FFL; referee servers lead to firing.)</li>
        <li>If a referee shuts down the server during a game, they will be suspended and fired and the game will require a redo.</li>
        <li>If a team admin shuts down the server, the game will result in an FFL for that team admin.</li>
        <li>Mercy Rule cannot be denied.</li>
        <li>A game must be a 7v7 - 8v8. An exception will be made in forced cases (e.g. 7v6, 8v7); otherwise, it will not be accepted. The referee will :pclock 100 to allow the team with fewer players to field the required number, or it will result in an FFL.</li>
        <li>There are only 2 QB runs per drive.</li>
      </ul>
      
      <h3 id="challenges">Challenges</h3>
      <p>Usually, calls will be auto-called by game call. However, in certain cases where the game call is believed to be wrong, coaches (+AC) can challenge; the challenge will be reviewed by the referee, and a verdict will be issued once the review is complete. Teams will receive three challenges per game, and if a challenge is successful, the challenge is returned without reducing their challenge count. Challenges can only be called under specific circumstances, such as issues involving:</p>
      <ul class="rule-list">
        <li>Infraction of Rules</li>
        <li>False Incompletions</li>
        <li>High boost and in-bounds</li>
        <li>False call of body contact being in or out</li>
        <li>Ineligible Players (Not Signed, Suspended, Alt-Account)</li>
      </ul>
      
      <h3 id="penalty-guide">Penalties</h3>
      <ul class="rule-list">
        <li><strong>Grounding</strong> — A flag where a quarterback throws blatantly out of any eligible receiver’s range. [-15]. In cases where the QB grounds in their own endzone, this results in a safety; if outside but the line of scrimmage is below 15 yards ahead of the endzone, it is also a safety.</li>
        <li><strong>Delay of Game</strong> — Automatically called by the game; can be reverted if an NR was called but the referee failed to react in time. [-5]</li>
        <li><strong>Lag Sack</strong> — A sack due to lag by the defensive end (QB lag does not count). Penalty: replay of downs.</li>
        <li><strong>Double Blocking</strong> — Occurs when two blockers block 5 yards behind the line of scrimmage; negated on a run play or if the QB is sacked. [-5]</li>
        <li><strong>Triple Blocking</strong> — Occurs when three or more players on the same team block forward toward their own touchdown. The only negation is if the QB is sacked or the ball is run (with an exception for fakes). [-10]</li>
        <li><strong>Milking</strong> — Teams cannot delay excessively unless the clock is 00:30 or lower during the 2nd or 4th quarter. [-10]</li>
        <li><strong>Headriding</strong> — Stacking on the head for more than two seconds. [-5]</li>
        <li><strong>More than one fake per halftime</strong> — Results in losing 2 points (if scored) and skipping the special play (e.g., fake kick, fake punt, etc.).</li>
      </ul>
      
      <p><strong>Signed by 495BC and Lu</strong></p>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-container">
      <div class="footer-col">
        <h4>Quicklinks</h4>
        <ul>
          <li><a href="https://psflrbx.github.io/homepage">PSFL Home</a></li>
          <li><a href="https://psflrbx.github.io/stats">Stats</a></li>
          <li><a href="https://psflrbx.github.io/standings">Standings</a></li>
          <li><a href="https://psflrbx.github.io/rulebook">Rulebook</a></li>
          <li><a href="https://psflrbx.github.io/credits">Credits</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Discord</h4>
        <div class="social-icons">
          <a href="https://discord.gg/psfl" class="icon icon-discord">
            <span class="tooltip">discord.gg/psfl</span>
          </a>
        </div>
      </div>
      <div class="footer-col">
        <h4>Credits</h4>
        <ul>
          <li>@ps9lu (psyklu)</li>
          <li>@siyazof (495BC)</li>
        </ul>
      </div>
    </div>
  </footer>

  <script>
    // Parallax Effect
    let targetY = 0, currentY = 0;
    const parallaxSpeed = 0.3;
    function updateParallax() {
      currentY += (targetY - currentY) * 0.1;
      document.querySelector('.background').style.backgroundPositionY = currentY + "px";
      requestAnimationFrame(updateParallax);
    }
    window.addEventListener('scroll', function() {
      targetY = -(window.pageYOffset * parallaxSpeed);
    });
    updateParallax();

    // Tween-out on navigation click before navigating
    const navLinks = document.querySelectorAll('nav ul li a');
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetUrl = this.href;
        const content = document.querySelector('.background .content');
        content.classList.remove('page-enter');
        content.classList.add('page-exit');
        setTimeout(() => { window.location.href = targetUrl; }, 1200);
      });
    });
  </script>
</body>
</html>
